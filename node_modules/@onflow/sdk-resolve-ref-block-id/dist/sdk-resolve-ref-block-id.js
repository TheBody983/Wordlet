var e=require("@onflow/interaction"),r=require("@onflow/send"),o=require("@onflow/decode"),n=require("@onflow/sdk-build-get-latest-block");exports.resolveRefBlockId=function(t){return function(s){try{return e.isTransaction(s)?s.message.refBlock?Promise.resolve(e.Ok(s)):Promise.resolve(function(t){try{var s;return Promise.resolve(e.pipe(e.interaction(),[n.getLatestBlock()])).then(function(e){return s=e,Promise.resolve(r.send(s,t)).then(function(e){return s=e,Promise.resolve(o.decodeResponse(s)).then(function(e){return(s=e).id})})})}catch(e){return Promise.reject(e)}}(t)).then(function(r){return s.message.refBlock=r,e.Ok(s)}):Promise.resolve(e.Ok(s))}catch(e){return Promise.reject(e)}}};
//# sourceMappingURL=sdk-resolve-ref-block-id.js.map
