{"version":3,"file":"sdk-resolve-arguments.modern.js","sources":["../src/index.js"],"sourcesContent":["import {isTransaction, isScript, Ok, Bad} from \"@onflow/interaction\"\n\nfunction ignore(ix) {\n  return !(isTransaction(ix) || isScript(ix))\n}\n\nfunction cast (arg) {\n  if (typeof arg.xform == null) throw new Error(`No type specified for argument: ${arg.value}`)\n  if (typeof arg.xform === \"function\") return arg.xform(arg.value)\n  if (typeof arg.xform.asArgument === \"function\") return arg.xform.asArgument(arg.value)\n  console.error(\"Invalid Argument\", arg)\n  throw new Error(`Invalid Argument`)\n}\n\nexport async function resolveArguments (ix) {\n  if (ignore(ix)) return Ok(ix)\n\n  for (let [id, arg] of Object.entries(ix.arguments)) {\n    ix.arguments[id].asArgument = cast(arg)\n  }\n\n  return Ok(ix)\n}\n"],"names":["cast","arg","xform","Error","value","asArgument","console","error","resolveArguments","ix","isTransaction","isScript","ignore","Ok","id","Object","entries","arguments"],"mappings":"0EAMA,SAASA,EAAMC,GACb,GAAwB,aAAbA,EAAIC,MAAe,UAAUC,MAAO,mCAAkCF,EAAIG,OACrF,GAAyB,mBAAdH,EAAIC,MAAsB,OAAOD,EAAIC,MAAMD,EAAIG,OAC1D,GAAoC,mBAAzBH,EAAIC,MAAMG,WAA2B,OAAOJ,EAAIC,MAAMG,WAAWJ,EAAIG,OAEhF,MADAE,QAAQC,MAAM,mBAAoBN,OACxBE,MAAO,mCAGGK,EAAkBC,GACtC,GAbF,SAAgBA,GACd,QAASC,EAAcD,IAAOE,EAASF,IAYnCG,CAAOH,GAAK,OAAOI,EAAGJ,GAE1B,IAAK,IAAKK,EAAIb,KAAQc,OAAOC,QAAQP,EAAGQ,WACtCR,EAAGQ,UAAUH,GAAIT,WAAaL,EAAKC,GAGrC,OAAOY,EAAGJ"}